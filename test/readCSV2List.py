# coding=utf-8
import simplejson as simplejson
import csv, os


def strToDic():
    str_data = [{'id': '152', 'code': 500, 'message': '数据查询错误', 'name': '林小龙', 'mobile': '18503482529',
                 'id_card': '142301198803301416'},
                {'id': '150', 'code': 500, 'message': '数据查询错误', 'name': '林小龙', 'mobile': '18503482529',
                 'id_card': '142301198803301416'},
                {'id': '142', 'code': 500, 'message': '数据查询错误', 'name': '李花萍', 'mobile': '18635881541',
                 'id_card': '142324196811085421'},
                {'id': '103', 'code': 0, 'message': '未知', 'name': '王艳军', 'mobile': '13044668500',
                 'id_card': '142301198904142354'},
                {'id': '243', 'code': 0, 'message': '未知', 'name': '白永亮', 'mobile': '15534370717',
                 'id_card': '142301197207095113'},
                {'id': '711', 'code': 0, 'message': '未知', 'name': '武金虎', 'mobile': '18649581180',
                 'id_card': '142303198804242617'},
                {'id': '532', 'code': 0, 'message': '未知', 'name': '郭腾兵', 'mobile': '18534869776',
                 'id_card': '142303199103234117'},
                {'id': '985', 'code': 0, 'message': '未知', 'name': '武志强', 'mobile': '17635853385',
                 'id_card': '142322196405064016'},
                {'id': '357', 'code': 0, 'message': '未知', 'name': '陈富', 'mobile': '13334017999',
                 'id_card': '612401196310086219'},
                {'id': '1662', 'code': 0, 'message': '未知', 'name': '关志军', 'mobile': '18135803452',
                 'id_card': '142327197511173570'},
                {'id': '2309', 'code': 0, 'message': '未知', 'name': '杨耀忠', 'mobile': '13323465428',
                 'id_card': '142332198505264017'},
                {'id': '367', 'code': 0, 'message': '未知', 'name': '马俊平', 'mobile': '18521230232',
                 'id_card': '141181197604290123'},
                {'id': '87', 'code': 0, 'message': '未知', 'name': '刘孟山', 'mobile': '18541256235',
                 'id_card': '142324196210100059'},
                {'id': '188', 'code': 0, 'message': '未知', 'name': '李尚朋', 'mobile': '17635646004',
                 'id_card': '141181198807180092'},
                {'id': '299', 'code': 0, 'message': '未知', 'name': '梁丹', 'mobile': '18634894311',
                 'id_card': '14230119890210272X'},
                {'id': '945', 'code': 0, 'message': '未知', 'name': '巩翔', 'mobile': '13097573990',
                 'id_card': '142303199103264113'},
                {'id': '196', 'code': 0, 'message': '未知', 'name': '赵丽娜', 'mobile': '15535767404',
                 'id_card': '142301198204300024'},
                {'id': '151', 'code': 0, 'message': '未知', 'name': '林小龙', 'mobile': '18503482529',
                 'id_card': '142301198803301416'},
                {'id': '2248', 'code': 0, 'message': '未知', 'name': '贺瑞涠??', 'mobile': '13903588046',
                 'id_card': '142328195805160019'},
                {'id': '285', 'code': 0, 'message': '未知', 'name': '袁永康', 'mobile': '18649353665',
                 'id_card': '14232219710702351X'},
                {'id': '375', 'code': 0, 'message': '未知', 'name': '沈治国', 'mobile': '13037098537',
                 'id_card': '141181197606030018'},
                {'id': '134', 'code': 0, 'message': '未知', 'name': '付建武', 'mobile': '15535881065',
                 'id_card': '142324196811276316'},
                {'id': '1446', 'code': 0, 'message': '未知', 'name': '孙有权', 'mobile': '15534450858',
                 'id_card': '140603196711270534'},
                {'id': '300', 'code': 0, 'message': '未知', 'name': '冯海生', 'mobile': '13133083632',
                 'id_card': '142324197104141839'},
                {'id': '572', 'code': 0, 'message': '未知', 'name': '董海刚', 'mobile': '13293667268',
                 'id_card': '142303198410100632'},
                {'id': '339', 'code': 0, 'message': '未知', 'name': '闫帅帅', 'mobile': '13033583645',
                 'id_card': '141181198910180058'},
                {'id': '95', 'code': 0, 'message': '未知', 'name': '杨宝霞', 'mobile': '18535855601',
                 'id_card': '140521196605243628'},
                {'id': '365', 'code': 0, 'message': '未知', 'name': '郭文霞', 'mobile': '18635878865',
                 'id_card': '142301198408023727'},
                {'id': '391', 'code': 0, 'message': '未知', 'name': '尹建新', 'mobile': '13133582121',
                 'id_card': '142324196512131838'},
                {'id': '1649', 'code': 0, 'message': '未知', 'name': '高强顺', 'mobile': '13007234523',
                 'id_card': '142625196811233917'},
                {'id': '260', 'code': 0, 'message': '未知', 'name': '李建梅', 'mobile': '15535809520',
                 'id_card': '142301198107143127'},
                {'id': '971', 'code': 0, 'message': '未知', 'name': '郭圆', 'mobile': '18634282343',
                 'id_card': '41132119890426321X'},
                {'id': '753', 'code': 0, 'message': '未知', 'name': '韩冬冬', 'mobile': '18635841120',
                 'id_card': '14230319921229571X'},
                {'id': '1781', 'code': 0, 'message': '未知', 'name': '张翠明', 'mobile': '17546471101',
                 'id_card': '142326198202280338'},
                {'id': '1956', 'code': 0, 'message': '未知', 'name': '李保云', 'mobile': '18535880122',
                 'id_card': '142327197411214718'},
                {'id': '2168', 'code': 0, 'message': '未知', 'name': '康瑞生', 'mobile': '15535811610',
                 'id_card': '142328198604241510'},
                {'id': '141', 'code': 0, 'message': '未知', 'name': '李花萍', 'mobile': '18635881541',
                 'id_card': '142324196811085421'},
                {'id': '4268', 'code': 0, 'message': '未知', 'name': '吴小平', 'mobile': '13293663481',
                 'id_card': '141102196110080038'},
                {'id': '2353', 'code': 0, 'message': '未知', 'name': '张全清', 'mobile': '18535841118',
                 'id_card': '14233019740418001X'},
                {'id': '2046', 'code': 0, 'message': '未知', 'name': '宋平喜', 'mobile': '15536891270',
                 'id_card': '142327197511173570'},
                {'id': '2081', 'code': 0, 'message': '未知', 'name': '杨国兵', 'mobile': '13024222222',
                 'id_card': '142327197506020473'},
                {'id': '1773', 'code': 0, 'message': '未知', 'name': '杨四信', 'mobile': '18535869532',
                 'id_card': '14232519630808003X'},
                {'id': '3069', 'code': 0, 'message': '未知', 'name': '任鹏', 'mobile': '18636460832',
                 'id_card': '142330198801158013'},
                {'id': '3566', 'code': 0, 'message': '未知', 'name': '赵玉莲', 'mobile': '15535853299',
                 'id_card': '142331196610160521'},
                {'id': '2742', 'code': 0, 'message': '未知', 'name': '王琴琴', 'mobile': '15536439366',
                 'id_card': '142328198612253220'},
                {'id': '3223', 'code': 0, 'message': '未知', 'name': '王辉', 'mobile': '15535894855',
                 'id_card': '141129198401010012'},
                {'id': '2676', 'code': 0, 'message': '未知', 'name': '贺晓琴', 'mobile': '18635805731',
                 'id_card': '142333197412071429'},
                {'id': '3855', 'code': 0, 'message': '未知', 'name': '张怀信', 'mobile': '15635861343',
                 'id_card': '142330197306149019'},
                {'id': '2597', 'code': 0, 'message': '未知', 'name': '刘燕军', 'mobile': '18545214582',
                 'id_card': '141125198809210012'},
                {'id': '3603', 'code': 0, 'message': '未知', 'name': '程芳', 'mobile': '18535880386',
                 'id_card': '141125196806240049'},
                {'id': '3519', 'code': 0, 'message': '未知', 'name': '薛力超', 'mobile': '18503582663',
                 'id_card': '142302199404080514'},
                {'id': '3602', 'code': 0, 'message': '未知', 'name': '刘秀丽', 'mobile': '15687985250',
                 'id_card': '14233019731107172X'},
                {'id': '3987', 'code': 0, 'message': '未知', 'name': '骆念好', 'mobile': '17563397516',
                 'id_card': '340122196704240918'},
                {'id': '3236', 'code': 0, 'message': '未知', 'name': '李楠', 'mobile': '15535899787',
                 'id_card': '141102199605240084'},
                {'id': '3786', 'code': 0, 'message': '未知', 'name': '曹改明', 'mobile': '18535871010',
                 'id_card': '142326197812183514'},
                {'id': '2623', 'code': 0, 'message': '未知', 'name': '史亚栋', 'mobile': '15536408820',
                 'id_card': '141182199104260097'},
                {'id': '4016', 'code': 0, 'message': '未知', 'name': '徐立香', 'mobile': '15525794158',
                 'id_card': '340111195010252515'},
                {'id': '3971', 'code': 0, 'message': '未知', 'name': '金文星', 'mobile': '15634240221',
                 'id_card': '342622198711224877'},
                {'id': '4026', 'code': 0, 'message': '未知', 'name': '吴述才', 'mobile': '15525795846',
                 'id_card': '320823195307039010'},
                {'id': '4018', 'code': 0, 'message': '未知', 'name': '洪驰晖', 'mobile': '13133388841',
                 'id_card': '330282199002212836'},
                {'id': '4065', 'code': 0, 'message': '未知', 'name': '沙玲', 'mobile': '13133388423',
                 'id_card': '320826198302050029'},
                {'id': '2387', 'code': 0, 'message': '未知', 'name': '张玉平', 'mobile': '18505201258',
                 'id_card': '142330196304144818'},
                {'id': '4064', 'code': 0, 'message': '未知', 'name': '李宝秋', 'mobile': '13133388612',
                 'id_card': '110108196509060786'},
                {'id': '4238', 'code': 0, 'message': '未知', 'name': '李国萍', 'mobile': '18636990882',
                 'id_card': '142329198208262340'},
                {'id': '4066', 'code': 0, 'message': '未知', 'name': '丁磊', 'mobile': '13133388941',
                 'id_card': '321323198805046739'},
                {'id': '4675', 'code': 0, 'message': '未知', 'name': '方如锻', 'mobile': '15532124256',
                 'id_card': '352224196111185476'},
                {'id': '4614', 'code': 0, 'message': '未知', 'name': '高学武', 'mobile': '17635845249',
                 'id_card': '141182199212120016'},
                {'id': '4759', 'code': 0, 'message': '未知', 'name': '李建军', 'mobile': '13111185416',
                 'id_card': '142301198309175418'},
                {'id': '4139', 'code': 0, 'message': '未知', 'name': '耿中国', 'mobile': '15525794521',
                 'id_card': '321322198711176819'},
                {'id': '5106', 'code': 0, 'message': '未知', 'name': '郭鹏伦', 'mobile': '18534482441',
                 'id_card': '142324197202064515'},
                {'id': '4865', 'code': 0, 'message': '未知', 'name': '梁彩琴', 'mobile': '15535898091',
                 'id_card': '142324197403054145'},
                {'id': '5064', 'code': 0, 'message': '未知', 'name': '冀瑞福', 'mobile': '13153984288',
                 'id_card': '14230119680128051X'},
                {'id': '4021', 'code': 0, 'message': '未知', 'name': '张春生', 'mobile': '15525795689',
                 'id_card': '640222197603090018'},
                {'id': '4576', 'code': 0, 'message': '未知', 'name': '张贵成', 'mobile': '13111216842',
                 'id_card': '14230319740628311X'},
                {'id': '4328', 'code': 0, 'message': '未知', 'name': '陷保平', 'mobile': '15535865201',
                 'id_card': '142322198408237516'},
                {'id': '5111', 'code': -1, 'message': '证件不一致、姓名不一致', 'name': '范树斌', 'mobile': '18038222888',
                 'id_card': '142301198209154118'}]
    str_data1 = [{'id': '12028', 'code': 0, 'message': '未知', 'name': '康凯', 'mobile': '18634758315', 'id_card': '141128197401110012'}, {'id': '17597', 'code': 0, 'message': '未知', 'name': '任年生', 'mobile': '13191183586', 'id_card': '14232419680130001X'}, {'id': '17822', 'code': 0, 'message': '未知', 'name': '叶智慧', 'mobile': '18636465080', 'id_card': '350125198912303119'}, {'id': '12381', 'code': 0, 'message': '未知', 'name': '贺建红', 'mobile': '13100084399', 'id_card': '142330197805228029'}, {'id': '12103', 'code': 0, 'message': '未知', 'name': '刘茂鑫', 'mobile': '18535163998', 'id_card': '141102197812140036'}, {'id': '11744', 'code': 0, 'message': '未知', 'name': '郝静', 'mobile': '18535858366', 'id_card': '141128197509030030'}, {'id': '13024', 'code': 0, 'message': '未知', 'name': '梁鹏', 'mobile': '13233540192', 'id_card': '140781198512050137'}, {'id': '13126', 'code': 0, 'message': '未知', 'name': '刘龙龙', 'mobile': '17635467171', 'id_card': '142325198706240536'}, {'id': '13074', 'code': 0, 'message': '未知', 'name': '毛柳舟', 'mobile': '15639811556', 'id_card': '430626198808231876'}, {'id': '11511', 'code': 0, 'message': '未知', 'name': '康美荣', 'mobile': '15604587090', 'id_card': '142331196603090529'}, {'id': '13128', 'code': 0, 'message': '未知', 'name': '乔瑞程', 'mobile': '18636416579', 'id_card': '141102199210250050'}, {'id': '13648', 'code': 0, 'message': '未知', 'name': '王小梁', 'mobile': '18542218251', 'id_card': '141124199002160091'}, {'id': '14860', 'code': 0, 'message': '未知', 'name': '李金平', 'mobile': '15635866469', 'id_card': '61058219651127981X'}, {'id': '10671', 'code': 0, 'message': '未知', 'name': '屈卫忠', 'mobile': '18535484501', 'id_card': '142333197305160039'}, {'id': '13778', 'code': 0, 'message': '未知', 'name': '马江涛', 'mobile': '13203586884', 'id_card': '142331197811010575'}, {'id': '11815', 'code': 0, 'message': '未知', 'name': '翟胜林', 'mobile': '13098244874', 'id_card': '142331196304190538'}, {'id': '11850', 'code': 0, 'message': '未知', 'name': '田龙龙', 'mobile': '15635869656', 'id_card': '141102196410290037'}, {'id': '12239', 'code': 0, 'message': '未知', 'name': '任小华', 'mobile': '18535852707', 'id_card': '142321198011130060'}, {'id': '14779', 'code': 0, 'message': '未知', 'name': '刘锋锋', 'mobile': '17503443107', 'id_card': '142326198909212312'}, {'id': '17706', 'code': 0, 'message': '未知', 'name': '杨艳', 'mobile': '18535855602', 'id_card': '142301198201122728'}, {'id': '14954', 'code': 0, 'message': '未知', 'name': '艾彦军', 'mobile': '15536447479', 'id_card': '142327197612140217'}, {'id': '13676', 'code': 0, 'message': '未知', 'name': '倪明生', 'mobile': '18635856202', 'id_card': '142301198501222712'}, {'id': '17524', 'code': 0, 'message': '未知', 'name': '连长桂', 'mobile': '18634620661', 'id_card': '350125196804154110'}, {'id': '13809', 'code': 0, 'message': '未知', 'name': '樊艳军', 'mobile': '18547816469', 'id_card': '142326198606253010'}, {'id': '14474', 'code': 0, 'message': '未知', 'name': '张丽国', 'mobile': '18534748654', 'id_card': '142326198509103918'}, {'id': '18291', 'code': 0, 'message': '未知', 'name': '武秋英', 'mobile': '13035845120', 'id_card': '142301196508292722'}, {'id': '14256', 'code': 0, 'message': '未知', 'name': '高行', 'mobile': '18635002147', 'id_card': '142325196804202518'}, {'id': '15127', 'code': 0, 'message': '未知', 'name': '张志强', 'mobile': '15535453321', 'id_card': '142331197504185412'}, {'id': '16668', 'code': 0, 'message': '未知', 'name': '甄山勇', 'mobile': '18511395581', 'id_card': '142303199209214915'}, {'id': '18191', 'code': 0, 'message': '未知', 'name': '刘奕君', 'mobile': '15584263332', 'id_card': '142431199206010045'}, {'id': '14321', 'code': 0, 'message': '未知', 'name': '雷星', 'mobile': '18636106541', 'id_card': '142302198510270560'}, {'id': '17802', 'code': 0, 'message': '未知', 'name': '王婷婷', 'mobile': '18636463080', 'id_card': '142333198711141022'}, {'id': '18453', 'code': 0, 'message': '未知', 'name': '耿大洁', 'mobile': '15565458975', 'id_card': '141181199101010192'}, {'id': '15265', 'code': 0, 'message': '未知', 'name': '刘浩', 'mobile': '18536452233', 'id_card': '14233019641116411X'}]

    print(str_data1.__len__())
    messageNotKonw = ['未知', '数据查询错误']
    file_name = 'test1.csv'
    target = os.path.join('/Users/edz/Desktop', file_name)
    target_header = ['id', 'name', 'mobile', 'id_number', 'result']
    with open(target, 'w+') as f1:
        writer = csv.writer(f1)
        writer.writerow(target_header)
        print(str_data.__len__())
        for i in range(str_data.__len__()):
            id = str_data[i]['id']
            code = str_data[i]['code']
            message = str_data[i]['message']
            if message in messageNotKonw:
                print('id: , code: , message: ', str(id), str(code), message)
                writer.writerow(
                    [id, str_data[i]['name'], str_data[i]['mobile'], str(str_data[i]['id_card']),
                     str_data[i]['message']])
        print('结束')

    # ret_dict = simplejson.loads(str_json,'gbk')
    # print(ret_dict)


if __name__ == '__main__':
    strToDic()
